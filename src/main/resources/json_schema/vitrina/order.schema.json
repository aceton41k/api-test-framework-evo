{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Order Response",
  "description": "Schema for a single order/cart object",
  "type": "object",
  "properties": {
    "id": { "type": "string", "minLength": 1 },
    "order_id": { "type": "integer" },
    "order_preview_id": { "type": "string", "minLength": 1 },
    "user_id": { "type": "string", "minLength": 1 },
    "products_amount": { "type": "integer", "minimum": 0 },
    "total_sum": { "type": "integer", "minimum": 0 },
    "total_sum_format": { "type": "string", "minLength": 1 },
    "merchant_id": { "type": "string", "minLength": 1 },
    "service_id": { "type": "string", "minLength": 1 },
    "type": { "type": ["string", "null"] },
    "userInfo": {
      "type": "object",
      "properties": {
        "client_id": { "type": "integer" },
        "name": { "type": "string", "minLength": 1 },
        "surname": { "type": "string", "minLength": 1 },
        "phone_number": { "type": "string", "minLength": 1 }
      },
      "required": ["client_id", "name", "surname", "phone_number"],
      "additionalProperties": false
    },
    "address": { "type": "string" },
    "lat": { "type": "string" },
    "lng": { "type": "string" },
    "delivery_date": { "type": "string" },
    "delivery_time": { "type": "string" },
    "entrance": { "type": "string" },
    "floor": { "type": "string" },
    "apt": { "type": "string" },
    "door_code": { "type": "string" },
    "house_number": { "type": "string" },
    "comment": { "type": "string" },
    "click_paydoc_id": { "type": ["string", "null"] },
    "paid_status": { "type": "boolean" },
    "status": { "type": "string", "minLength": 1 },
    "statuses": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "status": { "type": "string", "minLength": 1 },
          "createdAt": { "type": "string", "format": "date-time" }
        },
        "required": ["status", "createdAt"],
        "additionalProperties": false
      }
    },
    "createdAt": { "type": "string", "format": "date-time" },
    "updatedAt": { "type": "string", "format": "date-time" },
    "on_hold": { "type": "boolean" },
    "hold_expires": { "type": ["string", "null"] },
    "merchant": { "type": "object" },
    "service": { "type": "object" },
    "products": {
      "type": "array",
      "items": { "type": "object" }
    }
  },
  "required": ["id", "order_id", "user_id", "products_amount", "total_sum", "merchant_id", "service_id", "status", "paid_status", "products", "merchant", "service", "userInfo"],
  "additionalProperties": false
}
