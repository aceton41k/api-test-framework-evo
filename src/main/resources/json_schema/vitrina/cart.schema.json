{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Cart Response",
  "description": "Schema for shopping cart response",
  "type": "object",
  "properties": {
    "id": { "type": "string", "minLength": 1 },
    "user_id": { "type": "string", "minLength": 1 },
    "products_amount": { "type": "integer", "minimum": 0 },
    "total_sum": { "type": "integer", "minimum": 0 },
    "total_sum_format": { "type": "string", "minLength": 1 },
    "merchant_id": { "type": "string", "minLength": 1 },
    "service_id": { "type": "string", "minLength": 1 },
    "type": { "type": ["string", "null"] },
    "userInfo": {
      "type": "object",
      "properties": {
        "client_id": { "type": "integer" },
        "name": { "type": "string", "minLength": 1 },
        "surname": { "type": "string", "minLength": 1 },
        "phone_number": { "type": "string", "minLength": 1 }
      },
      "required": ["client_id", "name", "surname", "phone_number"],
      "additionalProperties": false
    },
    "address": { "type": "string" },
    "lat": { "type": "string" },
    "lng": { "type": "string" },
    "delivery_date": { "type": "string" },
    "delivery_time": { "type": "string" },
    "entrance": { "type": "string" },
    "floor": { "type": "string" },
    "apt": { "type": "string" },
    "door_code": { "type": "string" },
    "house_number": { "type": "string" },
    "comment": { "type": "string" },
    "click_paydoc_id": { "type": ["string", "null"] },
    "paid_status": { "type": "boolean" },
    "status": { "type": "string", "minLength": 1 },
    "statuses": {
      "type": "array",
      "items": {}
    },
    "on_hold": { "type": "boolean" },
    "hold_expires": { "type": ["string", "null"] },
    "products": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "_id": { "type": "string", "minLength": 1 },
          "name": { "type": "string", "minLength": 1 },
          "description": { "type": "string" },
          "price": { "type": "integer", "minimum": 0 },
          "image": { "type": "string" },
          "category_id": { "type": "string", "minLength": 1 },
          "service_id": { "type": "string", "minLength": 1 },
          "merchant_id": { "type": "string", "minLength": 1 },
          "ikpu_code": { "type": "string", "minLength": 1 },
          "package_code": { "type": "string", "minLength": 1 },
          "amount": { "type": "integer", "minimum": 0 },
          "total_sum": { "type": "integer", "minimum": 0 }
        },
        "required": ["_id", "name", "description", "price", "category_id", "service_id", "merchant_id", "ikpu_code", "package_code", "amount", "total_sum"],
        "additionalProperties": false
      }
    }
  },
  "required": ["id", "user_id", "products_amount", "total_sum", "merchant_id", "service_id", "status", "paid_status", "on_hold", "products"],
  "additionalProperties": false
}
